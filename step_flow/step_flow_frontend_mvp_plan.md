# План разработки Фронтенда для "Step Flow" (Этап 1 - MVP)

**Основная цель этапа:** Создать базовый функционал веб-приложения, включая аутентификацию, главный дашборд и основу для конструктора workflow.

**Ключевые задачи:**

1.  **Настройка проекта и окружения:**
    *   Инициализация React-проекта с использованием TypeScript (если еще не сделано).
    *   Настройка ESLint, Prettier согласно гайдлайнам.
    *   Выбор и настройка системы управления состоянием (например, Redux Toolkit, как наиболее популярный и мощный вариант, если нет других предпочтений).
    *   Настройка сборщика (Webpack/Vite).
2.  **Реализация модуля Аутентификации:**
    *   Создание компонентов для форм входа и регистрации. Дизайн – неоморфный, черно-белая гамма.
    *   Интеграция с API бэкенда для аутентификации (OAuth 2.0 / JWT).
    *   Управление состоянием аутентификации пользователя (хранение токена, информация о пользователе).
    *   Реализация защищенных роутов.
3.  **Создание Главного дашборда:**
    *   Разработка базовой структуры дашборда.
    *   Отображение основной информации (например, список workflow пользователя, если API это позволяет на данном этапе).
    *   Проектирование навигации.
4.  **Основа для Конструктора Workflow (`react-flow`):**
    *   Интеграция библиотеки `react-flow`.
    *   Создание базового холста для отображения workflow.
    *   Реализация возможности добавления 2-3 предустановленных типов узлов (агентов), как указано в MVP.
    *   Продумать базовое взаимодействие с узлами (выделение, возможно, удаление).
    *   *Примечание: На этапе MVP полная функциональность сохранения/загрузки/редактирования сложных workflow не требуется, но закладываем архитектуру.*
5.  **Общие UI-компоненты:**
    *   Разработка набора базовых UI-компонентов в неоморфном стиле (кнопки, инпуты, карточки и т.д.), которые будут использоваться в формах, на дашборде и в конструкторе. Следовать гайдлайнам по именованию (например, `NeumoButton`).
    *   Начальная реализация микроанимаций для этих компонентов (Framer Motion или React Spring).
6.  **Тестирование:**
    *   Написание unit-тестов (Jest, React Testing Library) для разработанных компонентов и ключевых функций (логика аутентификации, управление состоянием).
7.  **Документация:**
    *   Написание JSDoc для всех создаваемых компонентов и функций.
    *   Обновление `README.md` для фронтенд-части проекта.

**Технологии и инструменты (согласно плану проекта):**

*   React, TypeScript
*   Redux Toolkit (предположительно, или Zustand/Recoil)
*   Styled Components или Tailwind CSS (адаптированный)
*   Framer Motion или React Spring
*   `react-flow`
*   Jest, React Testing Library
*   Webpack/Vite

**Взаимодействие с другими агентами/модулями:**

*   **`SF-Developer (Backend)`**: Для интеграции API аутентификации и (позже) API для workflow.
*   **`SF-UI_Designer`**: Для получения макетов и консультаций по неоморфному дизайну и анимациям.
*   **`SF-QA`**: Для передачи компонентов и функционала на тестирование.

**Визуализация структуры фронтенд-приложения (упрощенно):**

```mermaid
graph TD
    App[Step Flow Web App] --> Router[React Router]
    Router --> AuthLayout[Макет Аутентификации]
    Router --> MainLayout[Основной Макет Приложения]

    AuthLayout --> LoginPage[Страница Входа]
    AuthLayout --> RegisterPage[Страница Регистрации]

    MainLayout --> Sidebar[Боковая Панель/Навигация]
    MainLayout --> Header[Шапка Приложения]
    MainLayout --> ContentArea[Область Контента]

    ContentArea --> DashboardPage[Страница Дашборда]
    ContentArea --> WorkflowBuilderPage[Страница Конструктора Workflow]

    LoginPage --> AuthForm[Компонент Формы Аутентификации]
    RegisterPage --> AuthForm

    DashboardPage --> WorkflowList[Список Workflow]
    WorkflowBuilderPage --> ReactFlowCanvas[Холст React Flow]
    ReactFlowCanvas --> NodePalette[Палитра Узлов]
    ReactFlowCanvas --> Node[Компоненты Узлов (NeumoStyle)]

    subgraph "Общие Компоненты (NeumoStyle)"
        NeumoButton[Кнопка]
        NeumoInput[Поле Ввода]
        NeumoCard[Карточка]
        NeumoModal[Модальное Окно]
    end

    subgraph "Управление Состоянием (Redux Toolkit)"
        AuthSlice[Срез Аутентификации]
        WorkflowSlice[Срез Workflow (базовый)]
        UISlice[Срез UI (например, для модалок)]
    end

    AuthForm --> AuthSlice
    WorkflowList --> WorkflowSlice
    ReactFlowCanvas --> WorkflowSlice